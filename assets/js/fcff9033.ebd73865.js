"use strict";(self.webpackChunknscaptcha_docs=self.webpackChunknscaptcha_docs||[]).push([[6195],{7808:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>a,contentTitle:()=>c,default:()=>l,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"customization","title":"Customization","description":"This guide explains how to register the Captcha service within your ASP.NET application.  Two methods are provided, and you should choose the one that best suits your needs.  The registration takes place in either Program.cs (for .NET 6 and later) or Startup.cs (for older ASP.NET versions).","source":"@site/docs/customization.md","sourceDirName":".","slug":"/customization","permalink":"/docs/customization","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Customization"},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/docs/get-started"},"next":{"title":"CaptchaOptions","permalink":"/docs/captcha-options"}}');var s=t(4848),n=t(8453);const r={sidebar_position:3,title:"Customization"},c="Registering the Captcha Service",a={},d=[{value:"Method 1: Basic optional Registration",id:"method-1-basic-optional-registration",level:2},{value:"Method 2: Advanced Registration with Cookie Customization",id:"method-2-advanced-registration-with-cookie-customization",level:2},{value:"Choosing the Right Method",id:"choosing-the-right-method",level:2},{value:"Important Considerations",id:"important-considerations",level:2}];function h(e){const o={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"registering-the-captcha-service",children:"Registering the Captcha Service"})}),"\n",(0,s.jsxs)(o.p,{children:["This guide explains how to register the Captcha service within your ASP.NET application.  Two methods are provided, and you should choose the one that best suits your needs.  The registration takes place in either ",(0,s.jsx)(o.code,{children:"Program.cs"})," (for .NET 6 and later) or ",(0,s.jsx)(o.code,{children:"Startup.cs"})," (for older ASP.NET versions)."]}),"\n",(0,s.jsx)(o.h2,{id:"method-1-basic-optional-registration",children:"Method 1: Basic optional Registration"}),"\n",(0,s.jsxs)(o.p,{children:["This method is suitable if you don't need to customize the cookie options.  Add the following code to your ",(0,s.jsx)(o.code,{children:"Program.cs"})," or ",(0,s.jsx)(o.code,{children:"Startup.cs"})," (in the ",(0,s.jsx)(o.code,{children:"ConfigureServices"})," method for older ASP.NET versions):"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"builder.Services.AddCaptcha(options =>\r\n{\r\n    options.Content.UseLetters(uselowerCase: true, useUpperCase: false);\r\n    options.Style.AddNoiseLinesColors(Color.Blue, Color.Brown, Color.BurlyWood);\r\n    // ... other options ...\r\n});\n"})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"options"}),": This parameter allows you to configure various aspects of the Captcha, such as the characters used (letters, numbers, etc.), the styling (colors, noise, etc.), and other settings. In the example above, we're configuring the Captcha to use lowercase letters and adding noise lines with specific colors."]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"method-2-advanced-registration-with-cookie-customization",children:"Method 2: Advanced Registration with Cookie Customization"}),"\n",(0,s.jsxs)(o.p,{children:["Use this method if you need to customize the cookie options, such as setting ",(0,s.jsx)(o.code,{children:"HttpOnly"}),", ",(0,s.jsx)(o.code,{children:"Name"}),", ",(0,s.jsx)(o.code,{children:"SameSite"}),", or other cookie properties.  Add the following code to your ",(0,s.jsx)(o.code,{children:"Program.cs"})," or ",(0,s.jsx)(o.code,{children:"Startup.cs"})," (in the ",(0,s.jsx)(o.code,{children:"ConfigureServices"})," method for older ASP.NET versions):"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:'builder.Services.AddCaptcha((options, cookieOptions) =>\r\n{\r\n    options.Content.UseLetters(uselowerCase: true, useUpperCase: false);\r\n    options.Style.AddNoiseLinesColors(Color.Blue, Color.Brown, Color.BurlyWood);\r\n\r\n    cookieOptions.HttpOnly = true;\r\n    cookieOptions.Name = "captcha-cookie-name";\r\n    // ... other cookie options ...\r\n    // Example for setting SameSite:\r\n    // cookieOptions.SameSite = SameSiteMode.Lax; \r\n});\n'})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"options"}),": Just like in Method 1, this parameter allows you to configure the Captcha itself."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"cookieOptions"}),": This parameter allows you to configure the cookie that stores the Captcha challenge. In the example, we're setting ",(0,s.jsx)(o.code,{children:"HttpOnly"})," to ",(0,s.jsx)(o.code,{children:"true"})," (a security best practice) and giving the cookie a specific name. You can add other cookie configuration options as needed. The example shows how to set ",(0,s.jsx)(o.code,{children:"SameSite"})," as well."]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"choosing-the-right-method",children:"Choosing the Right Method"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"If you only need basic Captcha configuration and don't need to customize the cookie, use Method 1. It's simpler and more concise."}),"\n",(0,s.jsx)(o.li,{children:"If you need to customize the cookie options (e.g., for security reasons or to meet specific requirements), use Method 2."}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"important-considerations",children:"Important Considerations"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Placement"}),": Ensure you place the Captcha service registration code within the ",(0,s.jsx)(o.code,{children:"builder.Services"})," section of your ",(0,s.jsx)(o.code,{children:"Program.cs"})," (for .NET 6 and later) or the ",(0,s.jsx)(o.code,{children:"ConfigureServices"})," method of your ",(0,s.jsx)(o.code,{children:"Startup.cs"})," (for older ASP.NET versions). This is where you register all your application's services."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Options"}),": Explore the available options for both the ",(0,s.jsx)(o.code,{children:"options"})," and ",(0,s.jsx)(o.code,{children:"cookieOptions"})," parameters to tailor the Captcha and its cookie to your specific needs. Refer to the documentation for a complete list of available options."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:".NET Version"}),": The ",(0,s.jsx)(o.code,{children:"Program.cs"})," style is used in .NET 6 and later. If you're using an older version of ASP.NET, you'll need to use the ",(0,s.jsx)(o.code,{children:"Startup.cs"})," approach."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Security"}),": Setting ",(0,s.jsx)(o.code,{children:"cookieOptions.HttpOnly = true"})," is highly recommended to prevent client-side scripts from accessing the Captcha cookie, mitigating certain security vulnerabilities. Consider using ",(0,s.jsx)(o.code,{children:"cookieOptions.SameSite = SameSiteMode.Lax"})," or ",(0,s.jsx)(o.code,{children:"cookieOptions.SameSite = SameSiteMode.Strict"})," according to your application's needs."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"By following these instructions, you can successfully register the Captcha service in your ASP.NET application and begin using it to protect your forms.  Remember to choose the registration method that best suits your requirements and always prioritize security best practices."})]})}function l(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,o,t)=>{t.d(o,{R:()=>r,x:()=>c});var i=t(6540);const s={},n=i.createContext(s);function r(e){const o=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(n.Provider,{value:o},e.children)}}}]);