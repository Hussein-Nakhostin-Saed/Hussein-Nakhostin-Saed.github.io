"use strict";(self.webpackChunknscaptcha_docs=self.webpackChunknscaptcha_docs||[]).push([[7572],{9555:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"i-captcha-token-serializer","title":"ICaptchaTokenSerializer","description":"This document describes the ICaptchaTokenSerializer interface and how to use it to customize captcha token storage and retrieval in your application.  It\'s crucial to understand this interface if you need to implement your own token handling mechanism.","source":"@site/docs/i-captcha-token-serializer.md","sourceDirName":".","slug":"/i-captcha-token-serializer","permalink":"/docs/i-captcha-token-serializer","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"ICaptchaTokenSerializer"},"sidebar":"tutorialSidebar","previous":{"title":"ICaptchaTokenProtector","permalink":"/docs/i-captcha-token-protector"},"next":{"title":"Docker","permalink":"/docs/category/docker"}}');var t=n(4848),a=n(8453);const o={sidebar_position:8,title:"ICaptchaTokenSerializer"},s="ICaptchaTokenSerializer Interface",c={},l=[{value:"<code>ICaptchaTokenSerializer</code> Interface Overview",id:"icaptchatokenserializer-interface-overview",level:2},{value:"Interface Methods",id:"interface-methods",level:2},{value:"<code>Serialize(string token)</code>",id:"serializestring-token",level:3},{value:"<code>Deserialize()</code>",id:"deserialize",level:3},{value:"<code>Clear()</code>",id:"clear",level:3},{value:"Implementing <code>ICaptchaTokenSerializer</code>",id:"implementing-icaptchatokenserializer",level:2},{value:"Registering Custom Implementations",id:"registering-custom-implementations",level:2}];function d(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsxs)(i.h1,{id:"icaptchatokenserializer-interface",children:[(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"})," Interface"]})}),"\n",(0,t.jsxs)(i.p,{children:["This document describes the ",(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"})," interface and how to use it to customize captcha token storage and retrieval in your application.  It's crucial to understand this interface if you need to implement your own token handling mechanism."]}),"\n",(0,t.jsxs)(i.h2,{id:"icaptchatokenserializer-interface-overview",children:[(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"})," Interface Overview"]}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"})," interface defines the methods required for serializing, deserializing, and clearing captcha tokens.  Implementations of this interface handle the persistence of captcha tokens, allowing you to choose different storage mechanisms like cookies, session storage, databases, or distributed caches."]}),"\n",(0,t.jsx)(i.h2,{id:"interface-methods",children:"Interface Methods"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"})," interface defines the following methods:"]}),"\n",(0,t.jsx)(i.h3,{id:"serializestring-token",children:(0,t.jsx)(i.code,{children:"Serialize(string token)"})}),"\n",(0,t.jsx)(i.p,{children:"This method serializes the provided captcha token.  The implementation should store the token in the chosen storage mechanism."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.code,{children:"token"})}),": The captcha token to serialize (a string)."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.code,{children:"CaptchaException"})}),":  Implementations should throw a ",(0,t.jsx)(i.code,{children:"CaptchaException"})," if an error occurs during serialization. This can include issues like an invalid token format or failures in accessing the storage."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"deserialize",children:(0,t.jsx)(i.code,{children:"Deserialize()"})}),"\n",(0,t.jsx)(i.p,{children:"This method deserializes a captcha token.  The implementation should retrieve the token from the storage mechanism and return it."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Return Value"}),": The deserialized captcha token (a string), or ",(0,t.jsx)(i.code,{children:"null"})," if the token does not exist or an error occurs during deserialization."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.code,{children:"CaptchaException"})}),": Implementations should throw a ",(0,t.jsx)(i.code,{children:"CaptchaException"})," if an error occurs during deserialization, such as failures in accessing the storage or an invalid token format."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"clear",children:(0,t.jsx)(i.code,{children:"Clear()"})}),"\n",(0,t.jsx)(i.p,{children:"This method clears the stored captcha token.  The implementation should remove the token from the storage mechanism."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.code,{children:"CaptchaException"})}),": Implementations should throw a ",(0,t.jsx)(i.code,{children:"CaptchaException"})," if an error occurs while clearing the token, such as failures in accessing the storage."]}),"\n"]}),"\n",(0,t.jsxs)(i.h2,{id:"implementing-icaptchatokenserializer",children:["Implementing ",(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"})]}),"\n",(0,t.jsx)(i.p,{children:"If you want to provide a custom way of storing and retrieving Captcha tokens, you will need to implement this interface."}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Create a class that implements the ",(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"})," interface."]}),"\n",(0,t.jsxs)(i.li,{children:["Implement the ",(0,t.jsx)(i.code,{children:"Serialize"}),", ",(0,t.jsx)(i.code,{children:"Deserialize"}),", and ",(0,t.jsx)(i.code,{children:"Clear"})," methods according to your chosen storage mechanism."]}),"\n",(0,t.jsxs)(i.li,{children:["Register your custom implementation using the ",(0,t.jsx)(i.code,{children:"AddCaptchaTokenSerializerService"})," method."]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"registering-custom-implementations",children:"Registering Custom Implementations"}),"\n",(0,t.jsxs)(i.p,{children:["You register custom implementations of ",(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"})," (which ",(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"})," implementations are often used with) using the ",(0,t.jsx)(i.code,{children:"AddCaptchaTokenCacheService"})," method."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-csharp",children:"builder.Services.AddCaptchaTokenSerializer<YourCustomCaptchaTokenSerializerService>(); //In Program.cs for .NET 6+\r\n\r\n//Or in Startup.cs for older .NET Framework versions:\r\nservices.AddCaptchaTokenSerializer<YourCustomCaptchaTokenSerializerService>();\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Replace ",(0,t.jsx)(i.code,{children:"YourCustomCaptchaTokenSerializerService"})," with the actual name of your class that implements ",(0,t.jsx)(i.code,{children:"ICaptchaTokenSerializer"}),". This registration should be done in your ",(0,t.jsx)(i.code,{children:"Program.cs "}),"(for .NET 6 and later) or ",(0,t.jsx)(i.code,{children:"Startup.cs"})," (for older ASP.NET versions)."]})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>s});var r=n(6540);const t={},a=r.createContext(t);function o(e){const i=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(a.Provider,{value:i},e.children)}}}]);